{% extends "layout.html" %} {% block title %}Edit Journal Entry{% endblock %} {%
block body %}
<div class="container pt-4 pb-4">
  <h1 class="text-center mb-4">Edit Your Entry</h1>

  <div class="journal-edit-container" style="max-width: 900px; margin: 0 auto">
    {% if error %}
    <div class="alert alert-danger" role="alert">{{ error }}</div>
    {% endif %}

    <form action="/journal/edit/{{ entry.id }}" method="POST">
      <!-- Mood Display -->
      <div class="form-group mb-3">
        <label for="mood"><strong>Mood:</strong></label>
        <input
          type="text"
          id="mood"
          name="mood"
          class="form-control"
          value="{{ entry.mood }}"
          readonly
          style="
            background-color: #e8f4f8;
            border: 1px solid #b3d9e8;
            font-weight: 600;
            color: #001f54;
          "
        />
      </div>

      <!-- Prompt Display -->
      <div class="form-group mb-4">
        <label for="prompt"><strong>Writing Prompt:</strong></label>
        <textarea
          id="prompt-display"
          class="form-control"
          readonly
          rows="3"
          style="
            background-color: #e8f4f8;
            border: 1px solid #b3d9e8;
            font-style: italic;
            resize: none;
          "
        >
{{ entry.prompt }}</textarea
        >
        <textarea id="prompt" name="prompt" class="d-none">
{{ entry.prompt }}</textarea
        >
      </div>

      <!-- Content Editor with Lined Background -->
      <div class="form-group">
        <label for="content"><strong>Your Entry:</strong></label>
        <textarea
          id="content"
          name="content"
          class="form-control"
          required
          style="
            height: 400px;
            background-image: linear-gradient(
              to bottom,
              transparent 0%,
              transparent calc(100% - 2px),
              #ccc 100%
            );
            background-size: 100% 30px;
            background-position: 0 0;
            background-attachment: local;
            line-height: 30px;
            padding: 0 15px;
            font-family: 'Poppins', serif;
            resize: vertical;
            border: 1px solid #d0d0d0;
          "
        >
{{ entry.content }}</textarea
        >
      </div>

      <div class="d-flex justify-content-between mt-4">
        <a href="/journal" class="btn btn-secondary">Cancel</a>
        <button type="submit" class="btn btn-primary">Save Changes</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
